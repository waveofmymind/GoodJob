<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" layout:decorate="~{layout/layout.html}">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://cdn.jsdelivr.net/npm/daisyui@2.51.6/dist/full.css" rel="stylesheet" type="text/css"/>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2/dist/tailwind.min.css" rel="stylesheet" type="text/css"/>

    <title>ë©´ì ‘ ì˜ˆìƒ ì§ˆë¬¸</title>
</head>
<body>


<main layout:fragment="main" class="flex justify-center items-center h-auto mt-16">

    <script>
        var sectionIndex = 0; // ì„¹ì…˜ ì¸ë±ìŠ¤ë¥¼ ì¶”ì í•˜ëŠ” ë³€ìˆ˜

        function addResumeSection() {
            var resumeSectionsDiv = document.getElementById("resume-sections");

            var sectionDiv = document.createElement("div");
            sectionDiv.classList.add("mb-4");

            var resumeTypeSelect = document.createElement("select");
            resumeTypeSelect.name = "resumeRequests[" + sectionIndex + "].resumeType"; // ì´ë¦„ì— ì¸ë±ìŠ¤ ì‚¬ìš©
            resumeTypeSelect.classList.add("select", "select-bordered", "w-full", "max-w-xs", "mb-2");

            var options = [
                {value: "introduction", text: "ìê¸° ì†Œê°œ"},
                {value: "technology stack", text: "ê¸°ìˆ  ìŠ¤íƒ"},
                {value: "career history", text: "ê²½ë ¥ ì‚¬í•­"},
                {value: "project experience", text: "í”„ë¡œì íŠ¸ ê²½í—˜"}
            ];
            options.forEach(function(option) {
                var opt = document.createElement("option");
                opt.value = option.value;
                opt.innerText = option.text;
                resumeTypeSelect.appendChild(opt);
            });

            var contentTextarea = document.createElement("textarea");
            contentTextarea.name = "resumeRequests[" + sectionIndex + "].content"; // ì´ë¦„ì— ì¸ë±ìŠ¤ ì‚¬ìš©
            contentTextarea.classList.add("textarea", "textarea-bordered", "h-64", "mb-2");
            contentTextarea.placeholder = "ì„ íƒí•œ ë¶„ì•¼ì— ë§ëŠ” ì´ë ¥ì„œ ë‚´ìš©ì„ ì‘ì„±í•´ì£¼ì„¸ìš”.";

            var deleteButton = document.createElement("button");
            deleteButton.type = "button";
            deleteButton.textContent = "ì‚­ì œ";
            deleteButton.classList.add("text-sm", "mb-2");
            deleteButton.onclick = function() {
                resumeSectionsDiv.removeChild(sectionDiv);
            };

            sectionDiv.appendChild(resumeTypeSelect);
            sectionDiv.appendChild(document.createElement("br"));
            sectionDiv.appendChild(contentTextarea);
            sectionDiv.appendChild(deleteButton);

            resumeSectionsDiv.appendChild(sectionDiv);

            sectionIndex++; // ë‹¤ìŒ ì„¹ì…˜ì— ì‚¬ìš©í•  ì¸ë±ìŠ¤ ì¦ê°€
        }
    </script>


    <form action="/resumes/questions" method="post" style="width:600px; margin:auto;">
        <h1 class="text-2xl mb-6">ğŸ“ ë©´ì ‘ ì˜ˆìƒ ì§ˆë¬¸ì„ ë°›ì•„ë³´ì„¸ìš”</h1>

        <label for="job" class="mb-4">ì›í•˜ëŠ” ì§ì—…ì„ ì„ íƒí•´ì£¼ì„¸ìš”</label>
        <div class="mt-2">
            <select class="select select-bordered w-full max-w-xs" id="job" name="job">
                <option value="" disabled selected>ì·¨ì—…ì„ í¬ë§í•˜ëŠ” ì§ì—…ì„ ì„ íƒí•´ì£¼ì„¸ìš”</option>
                <option value="Software Backend Developer">ë°±ì—”ë“œ ê°œë°œì</option>
                <option value="Software Frontend Developer">í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œì</option>
                <option value="Social Worker">ì‚¬íšŒ ë³µì§€ì‚¬</option>
            </select>
        </div>

        <div class="mb-6"></div>

        <label for="career" class="mb-6">Career</label>
        <div class="mt-2">
            <select class="select select-bordered w-full max-w-xs" id="career" name="career">
                <option value="experienced">ê²½ë ¥</option>
                <option value="newcomer">ì‹ ì…</option>
            </select>
        </div>

        <div class="mb-6"></div>


        <div id="resume-sections" class="mb-6">

        </div>

        <button type="button" onclick="addResumeSection()" class="btn mb-6">ë¶„ì•¼ ì¶”ê°€</button>

        <button type="submit" class="btn mb-6">ì œì¶œ</button>

        <h1 class="mb-4">ë‹µë³€ì„ ìƒì„±í•˜ëŠ”ë°ì—ëŠ” 1ë¶„ ì •ë„ê°€ ê±¸ë ¤ìš”. ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”!</h1>
    </form>
</main>

</body>
</html>