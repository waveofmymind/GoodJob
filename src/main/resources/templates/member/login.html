<html layout:decorate="~{common/layout.html}">
<head>
    <title>로그인</title>
</head>
<body>
<main layout:fragment="main" class="container my-3 mx-auto">
    <script>
        const loginFormInputUsernameValueMinLength = 4;
        const loginFormInputPasswordValueMinLength = 4;

        function LoginForm__submit(form) {
            // username 이(가) 올바른지 체크

            form.username.value = form.username.value.trim(); // 입력란의 입력값에 있을지 모르는 좌우공백제거

            if (form.username.value.length === 0) {
                toastWarning('아이디를 입력해주세요.');
                form.username.focus();
                return;
            }

            if (form.username.value.length < loginFormInputUsernameValueMinLength) {
                toastWarning('아이디를 ' + loginFormInputUsernameValueMinLength + '자 이상 입력해주세요.');
                form.username.focus();
                return;
            }

            // password 이(가) 올바른지 체크

            form.password.value = form.password.value.trim(); // 입력란의 입력값에 있을지 모르는 좌우공백제거

            if (form.password.value.length === 0) {
                toastWarning('비밀번호를 입력해주세요.');
                form.password.focus();
                return;
            }

            if (form.password.value.length < loginFormInputPasswordValueMinLength) {
                toastWarning('비밀번호를 ' + loginFormInputPasswordValueMinLength + '자 이상 입력해주세요.');
                form.password.focus();
                return;
            }

            form.submit(); // 폼 발송
        }
    </script>

    <div class="flex justify-center items-center min-h-screen">
        <div class="w-96 bg-white p-8 rounded-lg mb-64">
            <h2 class="text-xl font-semibold mb-4">로그인</h2>
            <form th:action method="post" th:object="${loginRequestDto}" class="flex flex-col gap-6" onsubmit="LoginForm__submit(this); return false;">
                <div class="form-control">
                    <label class="block mb-2">아이디</label>
                    <input type="text" name="username" class="border-b border-info px-2 py-2 w-full focus:outline-none"
                           placeholder="아이디를 입력하세요">
                </div>
                <div class="form-control">
                    <label class="block mb-2 mt-4">비밀번호</label>
                    <input type="password" name="password" class="border-b border-info px-2 py-2 w-full focus:outline-none"
                           placeholder="비밀번호를 입력하세요">
                </div>
                <div>
                    <button type="submit" class="mt-8 bg-info text-white px-4 py-2 rounded-lg">로그인</button>
                </div>
            </form>
            <div>
                <a class="btn btn-link" href="/oauth2/authorization/kakao">
                    카카오로 로그인하기(아직 안됨)
                </a>
                <a class="btn btn-link" href="/oauth2/authorization/github">
                    깃허브 로그인하기(아직 안됨)
                </a>
            </div>
        </div>
    </div>
</main>
</body>

</html>





